trait Animal

struct Ox extends Animal
  name: String
  weight: Real
end

struct Crane extends Animal
  name: String
  height: Real
end

func niuzao(): Ox = Ox('Niuzao', 387.23)
func chiji(): Crane = Crane('Chi-Ji', 5.51)

func shape(): %{ name: String, weight: Real } = %{ name: 'Peter', weight: 87.2 }

func test(): [Boolean] = [
  subtype?(type_of(1), type_of(1.5)),               // --> true
  subtype?(type_of(1.5), type_of(1)),               // --> false
  // TODO: How to get the Animal trait type for introspection? We would have to add compiler support.
  //subtype?(niuzao(), Animal),                     // --> true
  true,
  subtype?(type_of(niuzao()), type_of(chiji())),    // --> false
  subtype?(type_of(chiji()), type_of(niuzao())),    // --> false
  subtype?(type_of(niuzao()), type_of(shape())),    // --> true
  subtype?(type_of(chiji()), type_of(shape())),     // --> false
]
