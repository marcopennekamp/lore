type Animal = %{ name: String, breed: String }
type Options = %{ show_teeth?: Boolean, volume: Real }

func bark(animal: Animal, options: Options): String = 'Your ${animal.breed} ${animal.name} barks at a ${volume_meaning(options.volume)} volume${showing_teeth(options.show_teeth?)}!'

func volume_meaning(volume: Real): String = do
  if volume < 50 then 'real quiet'
  else if volume < 60 then 'pretty normal'
  else if volume < 70 then 'quite loud'
  else if volume < 80 then 'wall-banging'
  else 'MADNESS-INDUCING'
end

func showing_teeth(show_teeth?: Boolean): String = do
  if show_teeth? then ' showing sharp teeth' else ''
end

func test(): String = bark(%{ name: 'Raider', breed: 'dog' }, %{ show_teeth?: true, volume: 80 })
