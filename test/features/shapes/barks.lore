type Animal = %{ name: String, breed: String }
type Options = %{ show_teeth?: Boolean, volume: Real }

func bark(animal: Animal, options: Options): String = 'Your ${animal.breed} ${animal.name} barks at a ${volume_meaning(options.volume)} volume${showing_teeth(options.show_teeth?)}!'

func volume_meaning(volume: Real): String = cond
  volume < 50.0 => 'real quiet'
  volume < 60.0 => 'pretty normal'
  volume < 70.0 => 'quite loud'
  volume < 80.0 => 'wall-banging'
  true        => 'MADNESS-INDUCING'
end

func showing_teeth(show_teeth?: Boolean): String = do
  if show_teeth? then ' showing sharp teeth' else ''
end

func test(): String = bark(%{ name: 'Raider', breed: 'dog' }, %{ show_teeth?: true, volume: 81.7 })
