use lore.Enum.map

func test(): [String] = do
  map(
    [
      (v: %{ foo: String }) => v.foo,
      (v: %{ bar: String }) => v.bar,
      (v: %{ foo: String, bar: String }) => '!${v.foo}${v.bar}!',
    ],
    f => f(%{ foo: 'foo', bar: 'bar' })
  )
end
