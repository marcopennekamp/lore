struct Thing(x: Real)

// TODO (inference): This currently doesn't compile because the type of the second anonymous function cannot be
//                   inferred. But this could be inferred if we defaulted to checking the element expression of an
//                   appends operation after inference fails. (We need to attempt inference first because the element
//                   might be a supertype of the list element, which would fail if we attempt checking. Alternatively,
//                   we might attempt checking first and inference only if checking fails.)
func test(): [Thing => Boolean] = do
  let a: [Thing => Boolean] = [v => v.x == 4]
  let b = a :+ (v => v.x > 3.4)
  b
end
