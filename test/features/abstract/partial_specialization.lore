module features.abstract.partial_specialization

trait A
object A1 extends A
object A2 extends A

trait B
object B1 extends B
object B2 extends B

func f(A, B): String
func f(A1, B): String = 'A1,B'
func f(A2, B): String = 'A2,B'

@root
module features.abstract do
  use lore.test._

  spec 'partial_specialization: dispatch should return the correct strings' do
    assert_equal(f(A1, B1), 'A1,B')
    assert_equal(f(A1, B2), 'A1,B')
    assert_equal(f(A2, B1), 'A2,B')
    assert_equal(f(A2, B2), 'A2,B')
  end
end
